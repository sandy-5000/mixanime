<div class="w-full min-h-full relative">
    <div class="pt-2 flex">
        <div class="w-[125px]">
            <p class="pl-3 text-xs text-slate-200 side-heading">Anime <span class="text-sgreen">Name</span></p>
            <p class="pl-3 text-xs text-slate-200 side-heading">EPISODE <span class="text-sgreen">No.</span></p>
        </div>
        <div class="truncate">
            <p class="pr-3 text-xs text-slate-200 side-heading truncate"><span class="px-1">:</span>
                {{
                item?.title.romaji ||
                item?.title.english ||
                item?.title.userPreferred ||
                item?.title.native
                }}
            </p>
            <p class="pr-3 text-xs text-slate-200 side-heading"><span class="px-1">:</span> {{episode}}</p>
        </div>
    </div>
    <div class="pt-1 lg:flex md:flex">
        <div class="lg:w-8/12 md:w-8/12 w-full aspect-[16/9] p-2 relative" id="player">
            <div class="w-full h-full relative border border-slate-200">
                <app-loader></app-loader>
            </div>
            <!-- <iframe allowfullscreen="true" id="playerframe" class="w-full h-full rounded-sm"
                [src]="episodeLink.link"></iframe> -->
            <div class="flex pt-2 justify-between">
                <div class="w-1/2 a-center">
                    <button (click)="prevEpisode()"
                        class="px-3 py-2 mr-1 w-full hover:scale-[0.99] rounded-sm text-md bg-gray-600 text-slate-200 font-[400]">Prev
                        Episode</button>
                </div>
                <div class="w-1/2 a-center">
                    <button (click)="nextEpisode()"
                        class="px-3 py-2 ml-1 w-full hover:scale-[0.99] rounded-sm text-md bg-gray-600 text-slate-200 font-[400]">Next
                        Episode</button>
                </div>
            </div>
        </div>
        <div class="lg:w-4/12 md:w-4/12 w-full p-2">
            <div class="h-full flex flex-col justify-around">
                <div class="search-episode flex justify-between">
                    <div class="relative w-6/12">
                        <input type="number" placeholder="" [(ngModel)]="episodeNo" (input)="filterEpisodes()"
                            class="text-slate-200 pr-9 peer w-full h-full bg-transparent outline outline-0 focus:outline-0 disabled:bg-blue-gray-50 disabled:border-0 transition-all placeholder-shown:border placeholder-shown:border-slate-400 placeholder-shown:border-t-slate-400 border focus:border border-t-transparent focus:border-t-transparent text-sm px-3 py-2.5 rounded-[1px] border-blue-gray-200 focus:border-[#9fe6cd] " />
                        <label
                            class="flex w-full h-full select-none pointer-events-none absolute left-0 font-normal !overflow-visible truncate peer-placeholder-shown:text-blue-gray-500 leading-tight peer-focus:leading-tight peer-disabled:text-transparent peer-disabled:peer-placeholder-shown:text-[#9fe6cd] transition-all -top-1.5 peer-placeholder-shown:text-sm text-[11px] peer-focus:text-[11px] before:content[' '] before:block before:box-border before:w-2.5 before:h-1.5 before:mt-[6.5px] before:mr-1 peer-placeholder-shown:before:border-transparent before:rounded-0 before:border-t peer-focus:before:border-t before:border-l peer-focus:before:border-l before:pointer-events-none before:transition-all peer-disabled:before:border-transparent after:content[' '] after:block after:flex-grow after:box-border after:w-2.5 after:h-1.5 after:mt-[6.5px] after:ml-1 peer-placeholder-shown:after:border-transparent after:rounded-0 after:border-t peer-focus:after:border-t after:border-r peer-focus:after:border-r after:pointer-events-none after:transition-all peer-disabled:after:border-transparent peer-placeholder-shown:leading-[3.75] text-slate-400 peer-focus:text-[#9fe6cd] before:border-blue-gray-200 peer-focus:before:!border-[#9fe6cd] after:border-blue-gray-200 peer-focus:after:!border-[#9fe6cd]">
                            Enter Episode no.
                        </label>
                        <div class="absolute top-0 right-0 h-full a-center">
                            <ng-icon class="text-white z-10 text-xl font-extrabold mr-2"
                                name="heroMagnifyingGlass"></ng-icon>
                        </div>
                    </div>
                    <div class="lg:w-3/12 md:w-3/12 w-5/12">
                        <div class="mx-2">
                            <select id="sort" name="sort" [(ngModel)]="episodeOrder" (change)="filterEpisodes()"
                                class="block w-full p-2 text-sm border rounded-md bg-gray-700 border-gray-800 placeholder-gray-400 text-slate-200">
                                <option value="ASCENDING" selected>EP Ascending</option>
                                <option value="DESCENDING">EP Descending</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="a-center h-fit mt-2">
                    <div class="w-full overflow-y-scroll" id="episodes">
                        <div *ngFor="let i of episodes" class="episode-container rounded-sm p-2 shadow-inner my-2 flex">
                            <div class="w-3/12 p-1 episode-card"
                                style="background-image: url({{item.coverImage.extraLarge}});">
                            </div>
                            <div class="w-9/12">
                                <div class="p-1 px-2 text-sm h-full flex flex-col justify-around">
                                    <div>
                                        <p class="text-slate-200 truncate"><span class="font-semibold">Title:</span> {{
                                            item.title.romaji ||
                                            item.title.english ||
                                            item.title.userPreferred ||
                                            item.title.native
                                            }}</p>
                                    </div>
                                    <div class="mt-1 flex">
                                        <div>
                                            <button
                                                class="btn py-1 pr-3 pl-2 text-sgreen hover:bg-sgreen hover:text-slate-800 border border-dashed border-[#9fe6cd] flex">
                                                <div class="a-center">
                                                    <ng-icon class="text-lg mr-1" name="heroPlayCircle"></ng-icon>
                                                </div>
                                                <div class="a-center">
                                                    <span class="text-[14px] font-semibold">Play</span>
                                                </div>
                                            </button>
                                        </div>
                                        <div class="a-center ml-2">
                                            <p class="text-slate-200 text-sgreen">Episode: {{i}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="lg:m-10 m-5 lg:flex block">
        <div class="lg:w-3/12 w-full mt-4">
            <div class="mx-1">
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">Format :</span> <span
                        class="mx-2">{{item?.format}}</span></p>
                <hr class="text-slate-200 mb-3" />
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">English Title :</span> <span
                        class="mx-2">{{item?.title?.english}}</span></p>
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">Romaji Title :</span> <span
                        class="mx-2">{{item?.title?.romaji}}</span></p>
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">User Prefered Title :</span>
                    <span class="mx-2">{{item?.title?.userPreferred}}</span>
                </p>
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">Native Title :</span> <span
                        class="mx-2">{{item?.title?.native}}</span></p>
                <hr class="mb-3 text-slate-200" />
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">Started On :</span> <span
                        class="mx-2">{{date(item?.startDate?.year, item?.startDate?.month,
                        item?.startDate?.day)}}</span>
                </p>
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">Season :</span> <span
                        class="mx-2">{{item?.season}}</span></p>
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">Type :</span> <span
                        class="mx-2">{{item?.type}}</span></p>
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">Status :</span> <span
                        class="mx-2">{{item?.status}}</span></p>
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">Total Episodes :</span> <span
                        class="mx-2">{{item?.episodes || '?'}}</span></p>
                <hr class="text-slate-200 mb-3" />
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">Genres :</span> <span
                        class="mx-2">{{item?.genres?.join(', ')}}</span></p>
                <hr class="text-slate-200 mb-3" />
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">Average Score :</span> <span
                        class="mx-2">{{item?.averageScore}}</span></p>
                <p class="text-slate-200 p-0 mb-3 text-sm"><span class="text-sgreen">Favourites :</span> <span
                        class="mx-2">{{item?.favourites}}</span></p>
            </div>
        </div>
        <div class="vr mx-1 lg:inline-flex hidden"></div>
        <div class="lg:w-9/12 w-full">
            <app-snakegame class="w-full h-full a-center"></app-snakegame>
        </div>
    </div>
    <app-footer></app-footer>
</div>