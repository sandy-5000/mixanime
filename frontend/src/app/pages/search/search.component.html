<div class="w-full min-h-full relative">
    <div *ngIf="modal" class="a-center h-full z-[5] bg-gray-900 bg-opacity-25 w-full fixed top-0 left-0">
        <div class="bg-slate-200 rounded-lg w-[350px]">
            <div class="p-5">
                <h1 class="text-2xl">Enter Page No.</h1>
            </div>
            <hr class="border-slate-400" />
            <div class="p-5">
                <input class="bg-transparent rounded-sm h-8 text-slate-800 px-2" type="number" placeholder="Page no."
                    (input)="pageNoOnChange($event)" />
            </div>
            <hr class="border-slate-400" />
            <div class="p-5 flex justify-end">
                <button (click)="hideModal()"
                    class="btn mr-2 py-2 pr-3 pl-2 text-[#dc3545] hover:bg-[#dc3545] hover:text-slate-200 border rounded-lg border-[#dc3545] flex">
                    <div class="a-center">
                        <ng-icon class="text-lg mr-1" name="heroArrowRightOnRectangleMini"></ng-icon>
                    </div>
                    <div class="a-center">
                        <span class="text-[14px] mt-[0.5px] font-semibold">Close</span>
                    </div>
                </button>
                <button (click)="submitPage()"
                    class="btn py-2 pr-3 pl-2 text-[#28a745] hover:bg-[#28a745] hover:text-slate-200 border rounded-lg border-[#28a745] flex">
                    <div class="a-center">
                        <ng-icon class="text-lg mr-1" name="heroArrowRightOnRectangleMini"></ng-icon>
                    </div>
                    <div class="a-center">
                        <span class="text-[14px] mt-[0.5px] font-semibold">Submit</span>
                    </div>
                </button>
            </div>
        </div>
    </div>
    <div id="filter"
        class="fixed overflow-y-scroll h-full top-0 right-0 lg:w-[400px] md:w-[350px] sm:w-[350px] w-[330px] bg-[#0e1d1d] pt-[60px] hide-filter show-filter">
        <div class="flex m-3">
            <div (click)="hideFilter()" class="a-center rounded-full bg-sgreen w-12 py-1 cursor-pointer">
                <ng-icon class="text-xl text-slate-800" name="heroArrowSmallRight"></ng-icon>
            </div>
        </div>
        <div class="px-3 pt-2">
            <div class="w-full">
                <div class="relative w-full">
                    <input type="text" placeholder="" [(ngModel)]="filterForm.animename"
                        class="text-slate-200 pr-9 peer w-full h-full bg-transparent outline outline-0 focus:outline-0 disabled:bg-blue-gray-50 disabled:border-0 transition-all placeholder-shown:border placeholder-shown:border-slate-400 placeholder-shown:border-t-slate-400 border focus:border border-t-transparent focus:border-t-transparent text-sm px-3 py-2.5 rounded-[1px] border-blue-gray-200 focus:border-[#9fe6cd] " />
                    <label
                        class="flex w-full h-full select-none pointer-events-none absolute left-0 font-normal !overflow-visible truncate peer-placeholder-shown:text-blue-gray-500 leading-tight peer-focus:leading-tight peer-disabled:text-transparent peer-disabled:peer-placeholder-shown:text-[#9fe6cd] transition-all -top-1.5 peer-placeholder-shown:text-sm text-[11px] peer-focus:text-[11px] before:content[' '] before:block before:box-border before:w-2.5 before:h-1.5 before:mt-[6.5px] before:mr-1 peer-placeholder-shown:before:border-transparent before:rounded-0 before:border-t peer-focus:before:border-t before:border-l peer-focus:before:border-l before:pointer-events-none before:transition-all peer-disabled:before:border-transparent after:content[' '] after:block after:flex-grow after:box-border after:w-2.5 after:h-1.5 after:mt-[6.5px] after:ml-1 peer-placeholder-shown:after:border-transparent after:rounded-0 after:border-t peer-focus:after:border-t after:border-r peer-focus:after:border-r after:pointer-events-none after:transition-all peer-disabled:after:border-transparent peer-placeholder-shown:leading-[3.75] text-slate-400 peer-focus:text-[#9fe6cd] before:border-blue-gray-200 peer-focus:before:!border-[#9fe6cd] after:border-blue-gray-200 peer-focus:after:!border-[#9fe6cd]">
                        Filter Anime
                    </label>
                    <div class="absolute top-0 right-0 h-full a-center">
                        <ng-icon class="text-white z-10 text-xl font-extrabold mr-2"
                            name="heroMagnifyingGlass"></ng-icon>
                    </div>
                </div>
            </div>
            <div class="pt-2">
                <label for="countryOfOrigin" class="py-1 text-sm text-slate-200 block">Country Of Origin</label>
                <select id="countryOfOrigin" name="countryOfOrigin" [(ngModel)]="filterForm.countryOfOrigin"
                    class="block w-full p-2 text-sm border rounded-md bg-gray-700 border-gray-800 placeholder-gray-400 text-slate-200">
                    <option value="" selected>Any</option>
                    <option value="JP">Japan</option>
                    <option value="CN">Chinese</option>
                    <option value="KR">Korean</option>
                </select>
            </div>
            <div class="pt-2 flex justify-between">
                <div class="pr-1 w-1/2">
                    <label for="format" class="py-1 text-sm text-slate-200 block">Format</label>
                    <select id="format" name="format" [(ngModel)]="filterForm.format"
                        class="block w-full p-2 text-sm border rounded-md bg-gray-700 border-gray-800 placeholder-gray-400 text-slate-200">
                        <option value="" selected>Any</option>
                        <option value="TV">TV</option>
                        <option value="TV_SHORT">TV Short</option>
                        <option value="MOVIE">Movie</option>
                        <option value="SPECIAL">Special</option>
                        <option value="OVA">OVA</option>
                        <option value="ONA">ONA</option>
                    </select>
                </div>
                <div class="w-1/2">
                    <label for="season" class="py-1 text-sm text-slate-200 block">Season</label>
                    <select id="season" name="season" [(ngModel)]="filterForm.season"
                        class="block w-full p-2 text-sm border rounded-md bg-gray-700 border-gray-800 placeholder-gray-400 text-slate-200">
                        <option value="" selected>Any</option>
                        <option value="WINTER">Winter</option>
                        <option value="SPRING">Spring</option>
                        <option value="SUMMER">Summer</option>
                        <option value="FALL">Fall</option>
                    </select>
                </div>
            </div>
            <div class="pt-3">
                <p class="text-slate-200 py-1">Genre :</p>
                <div class="flex flex-wrap justify-around">
                    <span class="w-5/12 py-1" *ngFor="let genre of genres">
                        <label class="checkbox" for="{{genre.name}}">
                            <span style="color: {{genre?.color}};" class="checkbox__label">{{genre.name}}</span>
                            <input type="checkbox" [(ngModel)]="filterForm.genre[genre.name]" id="{{genre.name}}"
                                name="genre">
                            <div class="checkbox__indicator"></div>
                        </label>
                    </span>
                </div>
            </div>
            <div class="flex justify-between pt-3">
                <div class="w-6/12 mr-1">
                    <label for="year" class="py-1 text-sm text-slate-200 block">Year</label>
                    <select name="year" id="year" [(ngModel)]="filterForm.year"
                        class="block w-full p-2 text-sm border rounded-md bg-gray-700 border-gray-800 placeholder-gray-400 text-slate-200">
                        <option value="" selected>Any</option>
                        <option *ngFor="let year of years" value="{{year}}">{{year}}</option>
                    </select>
                </div>
                <div class="w-6/12">
                    <label for="sort" class="py-1 text-sm text-slate-200 block">Sorting</label>
                    <select name="sort" id="sort" [(ngModel)]="filterForm.sort"
                        class="block w-full p-2 text-sm border rounded-md bg-gray-700 border-gray-800 placeholder-gray-400 text-slate-200">
                        <option value="TITLE_ENGLISH" selected>Ascending</option>
                        <option value="TITLE_ENGLISH_DESC">Descending</option>
                        <option value="START_DATE_DESC">Newly Added</option>
                        <option value="POPULARITY">Rating Low to High</option>
                        <option value="POPULARITY_DESC">Rating High to Low</option>
                    </select>
                </div>
            </div>
            <div class="flex justify-between pt-3">
                <div class="w-6/12 mr-1">
                    <label for="status" class="py-1 text-sm text-slate-200 block">Status</label>
                    <select name="status" id="status" [(ngModel)]="filterForm.status"
                        class="block w-full p-2 text-sm border rounded-md bg-gray-700 border-gray-800 placeholder-gray-400 text-slate-200">
                        <option value="" selected>Any</option>
                        <option value="RELEASING">Airing</option>
                        <option value="FINISHED">Finished</option>
                        <option value="NOT_YET_RELEASED">Not Yet Aired</option>
                        <option value="CANCELLED">Cancelled</option>
                        <option value="HIATUS">Halted</option>
                    </select>
                </div>
                <div class="w-6/12">
                    <label for="averageScore" class="py-1 text-sm text-slate-200 block">Average Score</label>
                    <select name="averageScore" id="averageScore" [(ngModel)]="filterForm.averageScore"
                        class="block w-full p-2 text-sm border rounded-md bg-gray-700 border-gray-800 placeholder-gray-400 text-slate-200">
                        <option value="50" selected>Greater than 50</option>
                        <option value="60">Greater than 60</option>
                        <option value="70">Greater than 70</option>
                        <option value="80">Greater than 80</option>
                        <option value="90">Greater than 90</option>
                    </select>
                </div>
            </div>
            <div class="pt-5 pb-16 flex justify-end">
                <button (click)="filter()" class="rounded-sm mx-4 px-5 py-1 bg-sgreen" type="button"><span
                        class="text-slate-800 font-semibold">Filter</span></button>
            </div>
        </div>
    </div>
    <section class="container mx-auto">
        <div class="lg:m-10 m-5">
            <div class="flex mb-2">
                <div class="w-full flex justify-between">
                    <div class="flex">
                        <div class="a-center">
                            <ng-icon class="text-sgreen text-[25px] mr-1" name="simpleOpenstreetmap"></ng-icon>
                        </div>
                        <div class="a-center font-semibold">
                            <h1 class="text-slate-200 text-sm side-heading">Search <span class="text-sgreen">Releases</span></h1>
                        </div>
                    </div>
                    <div class="flex">
                        <div class="a-center">
                            <ng-icon (click)="showFilter()" class="text-sgreen text-[30px] mr-1"
                                name="heroFunnel"></ng-icon>
                        </div>
                    </div>
                </div>
            </div>
            <div class="search-container w-full overflow-x-scroll relative min-h-[600px]">
                <app-loader *ngIf="loading.search"></app-loader>
                <div class="search flex flex-wrap relative">
                    <div *ngFor="let item of searchData; index as i"
                        class="hidden-search-card lg:w-1/6 md:w-1/4 sm:w-1/4 w-1/3 p-2">
                        <div class="search-scard w-full">
                            <div class="search-card relative p-2 rounded-lg"
                                style="background-image: url({{item.coverImage.extraLarge}});">
                                <div
                                    class="rounded-sm bg-[#5de4b5] absolute top-2 left-2 bg-opacity-80 px-2 text-[15px] font-[550]">
                                    {{item.format}}</div>
                                <div
                                    class="rounded-sm absolute bottom-2 right-2 bg-black bg-opacity-60 text-slate-200 px-2 text-[15px] font-[550]">
                                    {{item.duration || 23}}:00</div>
                            </div>
                            <p class="pt-2 text-xs text-slate-200 lg:flex md:flex justify-between">
                                <span>
                                    Airing <span class="lg:inline-flex md:inline-flex hidden">from</span>:
                                </span>
                                <span class="text-right">
                                    {{ (item.startDate.day || 1) + '/' + item.startDate.month + '/' +
                                    item.startDate.year }}
                                </span>
                            </p>
                            <h1 (click)="goToDetails(item.id)"
                                class="truncate text-sm pt-1 font-normal text-sgreen cursor-pointer">
                                {{
                                item.title.userPreferred ||
                                item.title.english ||
                                item.title.romaji ||
                                item.title.native
                                }}
                            </h1>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex justify-center py-16">
                <div (click)="prevPage()"
                    class="a-center px-2 shadow-xl cursor-pointer hover:scale-110 rounded-sm mx-1 bg-sgreen">
                    <ng-icon class="text-lg font-normal" name="heroChevronLeft"></ng-icon>
                </div>
                <div (click)="showModal()"
                    class="a-center bg-slate-200 rounded-sm h-8 px-3 cursor-pointer hover:scale-110">
                    <span>{{variables.search.page}}</span>
                </div>
                <div (click)="nextPage()"
                    class="a-center px-2 shadow-xl cursor-pointer hover:scale-110 rounded-sm mx-1 bg-sgreen">
                    <ng-icon class="text-lg font-normal" name="heroChevronRight"></ng-icon>
                </div>
            </div>
        </div>
    </section>
    <app-footer></app-footer>
</div>